# Medal Preview System - Usage Examples

# Example 1: Finish an olympiad and get medal preview
mutation FinishOlympiadExample {
  finishOlympiad(id: "68d0ac5089074e030b67f5a7") {
    success
    message
    olympiad {
      id
      name
      status
      classtypes {
        id
        classYear
        medalists
        gold
        silver
        bronze
        top10
      }
    }
    medalPreviews {
      classTypeId
      classYear
      totalParticipants
      medalists
      gold {
        studentId
        studentName
        score
        rank
      }
      silver {
        studentId
        studentName
        score
        rank
      }
      bronze {
        studentId
        studentName
        score
        rank
      }
      top10 {
        studentId
        studentName
        score
        rank
      }
    }
  }
}

# Example 2: Update medal assignments
mutation UpdateMedalAssignmentsExample {
  updateMedalAssignments(
    olympiadId: "68d0ac5089074e030b67f5a7"
    assignments: [
      {
        classTypeId: "68d0ac5189074e030b67f5a9"
        gold: ["student1", "student2"]
        silver: ["student3", "student4", "student5"]
        bronze: ["student6", "student7", "student8"]
      }
    ]
  ) {
    success
    message
    medalPreviews {
      classTypeId
      classYear
      totalParticipants
      medalists
      gold {
        studentId
        studentName
        score
        rank
      }
      silver {
        studentId
        studentName
        score
        rank
      }
      bronze {
        studentId
        studentName
        score
        rank
      }
      top10 {
        studentId
        studentName
        score
        rank
      }
    }
  }
}

# Example 3: Finalize medals and send emails
mutation FinalizeMedalsExample {
  finalizeMedals(id: "68d0ac5089074e030b67f5a7") {
    success
    message
    emailsSent
    olympiad {
      id
      name
      status
    }
  }
}

# Example 4: Get olympiad with medal preview data
query GetOlympiadWithMedalData {
  olympiad(id: "68d0ac5089074e030b67f5a7") {
    id
    name
    status
    classtypes {
      id
      classYear
      medalists
      gold
      silver
      bronze
      top10
    }
  }
}

# Example 5: Get all olympiads in MEDALS_PREVIEW status
query GetMedalPreviewOlympiadsExample {
  allOlympiads {
    id
    name
    status
    classtypes {
      id
      classYear
      medalists
      gold
      silver
      bronze
      top10
    }
  }
}

# Example 6: Preview medals for an olympiad already in MEDALS_PREVIEW status
mutation PreviewMedalsExample {
  previewMedals(id: "68d0ac5089074e030b67f5a7") {
    success
    message
    medalPreviews {
      classTypeId
      classYear
      totalParticipants
      medalists
      gold {
        studentId
        studentName
        score
        rank
      }
      silver {
        studentId
        studentName
        score
        rank
      }
      bronze {
        studentId
        studentName
        score
        rank
      }
      top10 {
        studentId
        studentName
        score
        rank
      }
    }
  }
}
